set nocompatible              " be iMproved, required
filetype off                  " required

" set the runtime path to include Vundle and initialize
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
" alternatively, pass a path where Vundle should install plugins
"call vundle#begin('~/some/path/here')

" let Vundle manage Vundle, required
Plugin 'VundleVim/Vundle.vim'
Plugin 'vim-scripts/FSwitch'
Plugin 'nathanaelkane/vim-indent-guides'
Plugin 'rust-lang/rust.vim'
Plugin 'eblade/blueprint.vim'

" All of your Plugins must be added before the following line
call vundle#end()            " required
filetype plugin indent on    " required

" Obviously
syntax on

" The only correct indention settings
set ts=4 sw=4 et ai

" Status line
set statusline=%<\ %n\ %f\ %h%m%r%=%-14.(%l,%c%V%)\ %P
set laststatus=2

" Shortcut for splitting buffers into tabs
map <F2> :tab ball<CR>

" Shortcuts for navigating between buffers
nmap <A-PageUp> :bprev<CR>
nmap <A-PageDown> :bnext<CR>
nmap <Leader>t :TlistToggle<CR>
nmap <Leader><Return> :b

" Fair light colors
autocmd colorscheme * highlight ColorColumn ctermbg=7 guibg='#cccccc'
autocmd colorscheme * highlight StatusLine guibg=DarkGrey ctermfg=8 guifg=White ctermbg=15
autocmd colorscheme * highlight StatusLineNC guibg=DarkGrey ctermfg=0 guifg=White ctermbg=15
autocmd colorscheme * highlight VertSplit guibg=DarkGrey ctermfg=0 guifg=DarkGrey ctermbg=0
autocmd colorscheme * highlight Search ctermbg=NONE ctermfg=NONE cterm=underline,bold
autocmd colorscheme * highlight SpellBad ctermbg=NONE ctermfg=Red cterm=underline
autocmd colorscheme * highlight MatchParen cterm=bold ctermfg=NONE ctermbg=NONE
autocmd colorscheme * highlight Visual cterm=standout ctermfg=NONE ctermbg=NONE
autocmd colorscheme * highlight Todo cterm=BOLD ctermfg=Yellow ctermbg=NONE

" Indentation guides
let g:indent_guides_auto_colors = 0
let g:indent_guides_start_level = 2
let g:indent_guides_guide_size = 1
let g:indent_guides_enable_on_vim_startup = 1
let g:indent_guides_exclude_filetypes = ['help', 'nerdtree']
autocmd colorscheme * highlight IndentGuidesOdd ctermbg=black
autocmd colorscheme * highlight IndentGuidesEven ctermbg=black

" Tailing whitespaces
highlight ExtraWhitespace ctermbg=darkgreen guibg=darkgreen
autocmd ColorScheme * highlight ExtraWhitespace ctermbg=darkgreen guibg=darkgreen
match ExtraWhitespace /\s\+$/

colorscheme default

set modelines=1
"set autochdir
set hlsearch

" Toggle cursorline with \c
:hi CursorLine ctermbg=lightgray
:nnoremap <Leader>c :set cursorline!<CR>

" Toggle word wrap with \w
:nnoremap <Leader>w :set wrap!<CR>

" Unlight highlights with \n
:nnoremap <Leader>n :nohl<CR>

" FSwitch (between h amd cpp files)
:nnoremap <Leader>h :FSHere<CR>
:nnoremap <Leader>H :FSLeft<CR>

" zap push with \p (requires server to run)
:nnoremap <Leader>p :!curl -s -X POST --data % http://localhost:8080/push<CR>

" Neovim specific
if has("nvim")
    :tnoremap <A-h> <C-\><C-n><C-w>h
    :tnoremap <A-j> <C-\><C-n><C-w>j
    :tnoremap <A-k> <C-\><C-n><C-w>k
    :tnoremap <A-l> <C-\><C-n><C-w>l
    :nnoremap <A-h> <C-w>h
    :nnoremap <A-j> <C-w>j
    :nnoremap <A-k> <C-w>k
    :nnoremap <A-l> <C-w>l
    :autocmd TermOpen * set bufhidden=hide
endif
